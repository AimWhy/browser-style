<!DOCTYPE html>
<html lang="da-DK" dir="ltr">
	<!-- <html lang="en-AU" dir="ltr"> -->
	<!-- <html lang="ar-EG" dir="rtl"> -->
		<!-- <html lang="zh-Hans-CN-u-nu-hanidec" dir="ltr"> -->
<head>
	<title>day</title>
	<meta charset="UTF-8">
	<link rel="preload" href="/css/styles.css" as="style">
	<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
	<meta name="description" content="browser.style: avatar">
	<meta name="format-detection" content="telephone=no">
	<link rel="icon" type="image/png" href="/favicon.ico" sizes="any">
	<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
	<link rel="apple-touch-icon" sizes="180x180" href="/assets/favicon/apple-touch-icon.png">
	<link rel="stylesheet" href="/css/styles.css">
	<!-- <link rel="stylesheet" href="/css/components/kalel.css"> -->

	<!-- <meta http-equiv="Content-Security-Policy" content="
		base-uri;
		default-src;
		connect-src 'self';
		font-src;
		form-action;
		frame-src www.youtube.com;
		img-src 'self' picsum.photos *.picsum.photos i.ytimg.com data:;
		manifest-src 'self';
		media-src 'self';
		object-src 'none';
		script-src 'self' 'sha256-vvt4KWwuNr51XfE5m+hzeNEGhiOfZzG97ccfqGsPwvE=' 'sha256-xsLUYS7R0l8V4nkjT7SgjSUcJrFYPJWj3kfpDBjqcOg=';
		style-src 'self' 'unsafe-inline';
	"> -->
	<link rel="manifest" href="/site.webmanifest">
	<style>
		#app { position: relative;}
		#app hr {
			--hr-c: firebrick;
			--hr-h: 1px;
			--hr-bds: dashed;
			position: absolute;
			inset-inline-start: 0;
			inset-block-start: 525px;
			inline-size: 100%;
		}
		ul {
			--day-li-h: 3rem;
			list-style-type: none;
			padding: unset;
		}
		li {
			border-block-end: 1px solid var(--gray-3);
			block-size: var(--day-li-h);
			position: relative;
			user-select: none;
		}
		li:hover {
			background-color: var(--gray-1);
		}
		span {
			color: var(--gray-7);
			font-size: small;
			font-variant-numeric: tabular-nums;
			font-weight: normal;
			padding-inline-start: .25rem;
		}
		time {
			background-color: hsla(220, 90%, 80%, 0.5);
			border-inline-start: 4px solid var(--accent-color);
			border-radius: var(--input-bdrs);
			block-size: var(--day-li-h);
			/* color: #FFF; */
			display: block;
			font-size: small;
			font-weight: 400;
			inline-size: calc(100% - 5rem);
			inset-block-start: 0;
			inset-inline-start: 5rem;
			overflow: hidden;
			padding-block: .25em;
			padding-inline: .5em;
			position: absolute;
			/* resize: vertical; */
		}
		time.now {
			background-color: var(--accent-color);
			block-size: calc(2 * var(--day-li-h));
			color: var(--accent-text-color);
		}
		</style>
</head>
<body>
	<main>
		<h1 class="bs-header">browser.style</h1>
		<a href="/">Back to table of contents</a>
		<hr>
		<section>
			<h2>day</h2>
			<div id="app" data-date="2022-08-10"></div>
			
		</section>
	</main>
	<script src="/main.js" defer></script>
	<script type="module">
		app.innerHTML = day(app.dataset)

		function day(settings = {}) {
			const today = new Date();
			const config = Object.assign({ locale: (document.documentElement.getAttribute('lang') || 'en-US'), today: { day: today.getDay(), month: today.getMonth(), year: today.getFullYear() } }, settings);
			const date = config.date ? new Date(config.date) : today;

			const render = () => [...Array(24).keys()].map(i => {
				date.setHours(i, 0, 0);
				return `<li><span>${new Intl.DateTimeFormat(config.locale, { timeStyle: 'short' }).format(date)}</span>
					${i === 8 ? `<time datetime="" tabindex="0">Meeting with Perfection</time>`:'' }
					${i === 13 ? `<time datetime="" class="now" tabindex="0">Lunch meeting</time>`:'' }
					</li>`
			}).join('');

			return `<strong>${new Intl.DateTimeFormat(config.locale, { dateStyle: 'long' }).format(date)}</strong><div>${new Intl.DateTimeFormat([config.locale], { weekday: 'long'}).format(date)}</div><ul>${render()}</ul><hr>`;
		}
	</script>
</body>
</html>