<!DOCTYPE html>
<html lang="en-US" dir="ltr">
<head>
	<title>SnackBar</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
	<meta name="description" content="HTML is the foundation of the World Wide Web, and it is still the most popular markup language in use today.">
	<meta name="view-transition" content="same-origin">
	<link rel="stylesheet" href="/base.css">
	<script type="module" src="./index.js">
		
	</script>
	<style>
		.demo { display: flex; gap: 1rem; flex-wrap: wrap; }
		.demo button { min-width: 8rem; }
	</style>
</head>
<body>
	<h1>UI: Components</h1>

	<h2>SnackBar</h2>
	<p>

	</p>

	<h3>Examples</h3>
	<div class="demo">
		<button onclick="demoSnack.add('First message')">
			Add Default
		</button>
		<button onclick="demoSnack.add('Success message', 'success')">
			Add Success
		</button>
		<button onclick="demoSnack.add('Info message', 'info')">
			Add Info
		</button>
		<button onclick="demoSnack.add('Warning message', 'warning')">
			Add Warning
		</button>
		<button onclick="demoSnack.add('Error message', 'error')">
			Add Error
		</button>
		<button onclick="demoSnack.add('Persistent message', 'info', 0)">
			Add Persistent
		</button>
		<button onclick="showMultipleSnacks()">
			Show Multiple Messages
		</button>
	</div>

	<snack-bar popover="manual">
		<snack-item message="This is a manual message" action="Undo" part="error" duration="0"></snack-item>
		<snack-item message="This is another message" action="Redo" part="warning" duration="0"></snack-item>
		<snack-item message="This is a third message" action="Retry" part="success" duration="0"></snack-item>
		<snack-item message="This is a fourth message" action="Info" part="info" duration="0"></snack-item>
		<snack-item message="This is a fifth message" action="Close" part="default" duration="0"></snack-item>
	</snack-bar>

	<h3>Action Button Example</h3>
	<div class="demo">
		<button onclick="showActionSnack()">Show Action Message</button>
	</div>

	<h3>Order Example</h3>
	<div class="demo">
		<button onclick="showReverseOrderSnacks()">Show Reverse Order Messages</button>
	</div>

	<script>
		function showMultipleSnacks() {
			// Show three different messages with different types
			demoSnack.add('Processing started...', 'info', 0);
			setTimeout(() => {
				demoSnack.add('Step 2 completed', 'success', 0);
			}, 1000);
			setTimeout(() => {
				demoSnack.add('Please wait for final results...', 'warning', 0);
			}, 2000);
		}

		function showActionSnack() {
			const item = demoSnack.add('Item deleted', 'warning', 0, 'Undo');
			item.action.addEventListener('click', () => {
				item.remove();
				demoSnack.add('Action undone!', 'success', 3000);
			});
		}

		function handleAction(btn) {
			// Remove the snack item when action is clicked
			btn.closest('snack-item').remove();
			// Show confirmation
			demoSnack.add('Action undone!', 'success', 3000);
		}

		function showReverseOrderSnacks() {
			const reverseSnack = document.createElement('snack-bar');
			reverseSnack.setAttribute('order', 'reverse');
			document.body.appendChild(reverseSnack);
			
			reverseSnack.add('First message (stays at bottom)', 'info', 5000);
			setTimeout(() => {
				reverseSnack.add('Second message (appears above)', 'success', 4000);
			}, 1000);
			setTimeout(() => {
				reverseSnack.add('Third message (appears at top)', 'warning', 3000);
			}, 2000);
		}
	</script>

	<h3>Usage</h3>
	<pre><code>&lt;snack-bar&gt;
  &lt;snack-item message="Manual message" part="info" duration="0"&gt;&lt;/snack-item&gt;
&lt;/snack-bar&gt;

// JavaScript
const snackbar = document.querySelector('snack-bar');
snackbar.add('Message', 'part', duration);</code></pre>

	<h3>Multiple Messages Example</h3>
	<pre><code>// Show multiple messages
snackbar.show('First message', 'info', 5000);
snackbar.show('Second message', 'success', 4000);
snackbar.show('Third message', 'warning', 3000);

// Messages will stack and dismiss independently</code></pre>

	<h3>Usage with Action Button</h3>
	<pre><code>// Basic usage with action button
const actionSlot = '&lt;button slot="action" onclick="handleAction()"&gt;Undo&lt;/button&gt;';
snackbar.show('Message', 'type', duration, actionSlot);

// Custom styling
snack-bar::part(action) {
  /* style the action button */
  font-weight: bold;
  text-transform: uppercase;
}</code></pre>

	<h3>Usage with Reverse Order</h3>
	<pre><code>&lt;snack-bar order="reverse"&gt;&lt;/snack-bar&gt;

// Messages will stack from bottom to top
// First message stays at the bottom
// New messages appear above previous ones</code></pre>

	<snack-bar id="demoSnack"></snack-bar>
</body>
</html>