<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recipe Card Test</title>
    
    <script type="importmap">
    {
        "imports": {
            "@browser.style/layout": "../layout/index.js"
        }
    }
    </script>
    
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 2rem;
            line-height: 1.6;
        }
        
        .example {
            border: 1px solid #ddd;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 8px;
        }
        
        h2 {
            color: #333;
        }
        
        /* Basic recipe card styles */
        .cc-content {
            max-width: 600px;
            margin: 1rem 0;
        }
        
        .cc-headline {
            color: #2c3e50;
            margin: 0.5rem 0;
        }
        
        .cc-summary {
            color: #666;
            font-size: 1.1em;
            margin: 1rem 0;
        }
        
        .cc-recipe-meta {
            background: #f8f9fa;
            padding: 0.5rem;
            border-radius: 4px;
            font-weight: bold;
            color: #495057;
            margin: 1rem 0;
        }
        
        .cc-recipe-ingredients {
            margin: 1.5rem 0;
        }
        
        .cc-recipe-ingredients summary {
            font-weight: bold;
            cursor: pointer;
            padding: 0.5rem;
            background: #e9ecef;
            border-radius: 4px;
        }
        
        .cc-recipe-ingredients ul {
            margin: 1rem 0;
            padding-left: 1.5rem;
        }
        
        .cc-recipe-ingredients li {
            margin: 0.5rem 0;
        }
        
        .cc-recipe-instructions {
            margin: 1.5rem 0;
        }
        
        .cc-recipe-instructions h3 {
            color: #2c3e50;
            border-bottom: 2px solid #e9ecef;
            padding-bottom: 0.5rem;
        }
        
        .cc-recipe-instructions > div {
            margin: 1rem 0;
            padding: 1rem;
            background: #f8f9fa;
            border-left: 4px solid #007acc;
            border-radius: 0 4px 4px 0;
        }
        
        .cc-authors {
            margin: 1rem 0;
        }
        
        .cc-author {
            display: inline-block;
            font-style: normal;
        }
        
        .cc-author-name {
            font-weight: bold;
        }
        
        .cc-author-role {
            color: #888;
            font-size: 0.9em;
        }
        
        .cc-engagement {
            margin: 1rem 0;
            padding: 0.5rem;
            background: #f8f9fa;
            border-radius: 4px;
        }
        
        .cc-metric {
            margin-right: 1rem;
            color: #666;
        }
        
        .cc-tags {
            margin: 1rem 0;
        }
        
        .cc-tag {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            background: #007acc;
            color: white;
            border-radius: 4px;
            font-size: 0.8em;
            margin-right: 0.5rem;
        }
        
        .cc-actions {
            margin: 1rem 0;
        }
        
        .cc-action {
            display: inline-block;
            padding: 0.5rem 1rem;
            background: #28a745;
            color: white;
            text-decoration: none;
            border-radius: 4px;
            margin-right: 0.5rem;
        }
        
        /* Media styles */
        .cc-media {
            margin: 1rem 0;
        }
        
        .cc-media-image {
            width: 100%;
            height: auto;
            border-radius: 8px;
        }
        
        .cc-media-caption {
            margin-top: 0.5rem;
            font-size: 0.9em;
            color: #666;
            font-style: italic;
        }
        
        .cc-ribbon {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: #dc3545;
            color: white;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-size: 0.8em;
        }
        
        .content-card {
            border: 2px solid #28a745;
            border-radius: 8px;
            padding: 1rem;
            position: relative;
        }
    </style>
</head>
<body>
    <h1>Recipe Card Test</h1>
    
    <div class="example">
        <h2>Method 1: Data Loader with Recipe ID</h2>
        <p>Loading complete recipe with ingredients and instructions</p>
        <recipe-card id="recipe-from-data"></recipe-card>
    </div>
    
    <div class="example">
        <h2>Method 2: JavaScript Object (Custom Recipe)</h2>
        <p>Creating a recipe directly via JavaScript</p>
        <div id="js-recipe-container"></div>
    </div>
    
    <div class="example">
        <h2>Method 3: No Schema Markup</h2>
        <p>Same recipe but without schema.org markup</p>
        <recipe-card id="recipe-no-schema"></recipe-card>
    </div>

    <!-- Import the RecipeCard module -->
    <script type="module" src="cards/RecipeCard.js"></script>
    
    <script type="module">
        import { setContentForElement } from './base/data-loader.js';
        
        console.log('RecipeCard test page loaded');
        
        // Method 1: Load recipe by ID
        const recipeFromData = document.getElementById('recipe-from-data');
        setContentForElement(recipeFromData, 'recipe-1');
        
        // Method 3: Load recipe without schema
        const recipeNoSchema = document.getElementById('recipe-no-schema');
        setContentForElement(recipeNoSchema, 'recipe-1', { useSchema: false });
        
        // Method 2: Create recipe with JavaScript
        const recipeCard = document.createElement('recipe-card');
        
        const recipeData = {
            id: "recipe-js",
            type: "recipe",
            media: {
                sources: [
                    {
                        type: "image",
                        src: "https://via.placeholder.com/600x300/28a745/ffffff?text=Fresh+Salad",
                        alt: "Fresh garden salad"
                    }
                ]
            },
            content: {
                category: "Healthy",
                headline: "Garden Fresh Salad",
                summary: "A light and refreshing salad perfect for summer meals. Packed with vitamins and flavor.",
                readingTime: "10 min",
                text: [
                    "2 cups mixed greens",
                    "1 cucumber, sliced",
                    "2 tomatoes, diced",
                    "1/2 red onion, thinly sliced",
                    "1/4 cup olive oil",
                    "2 tbsp balsamic vinegar",
                    "Salt and pepper to taste",
                    "1/4 cup feta cheese, crumbled"
                ]
            },
            recipe: {
                prepTime: "10 min",
                cookTime: "0 min",
                servings: "4",
                instructions: [
                    "Wash and dry all vegetables thoroughly.",
                    "In a large bowl, combine mixed greens, cucumber, and tomatoes.",
                    "Add sliced red onion to the bowl.",
                    "In a small bowl, whisk together olive oil and balsamic vinegar.",
                    "Drizzle dressing over salad and toss gently.",
                    "Season with salt and pepper to taste.",
                    "Top with crumbled feta cheese and serve immediately."
                ]
            },
            authors: [
                {
                    name: "Chef Sarah Green",
                    role: "Nutrition Expert"
                }
            ],
            engagement: {
                reactions: [
                    { "type": "like", "count": 89, "value": 4.2, "max": 5, "min": 0 }
                ],
                viewCount: 2500,
                commentCount: 12
            },
            tags: ["Healthy", "Vegetarian", "Quick", "Fresh"],
            actions: [
                {
                    text: "Save Recipe",
                    icon: "bookmark"
                },
                {
                    text: "Print",
                    icon: "print"
                }
            ]
        };
        
        recipeCard.dataset = {
            data: recipeData,
            settings: { useSchema: true }
        };
        
        document.getElementById('js-recipe-container').appendChild(recipeCard);
    </script>
</body>
</html>