<!DOCTYPE html>
<html lang="en-US" dir="ltr">
<head>
	<title>Data Grid</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
	<meta name="description" content="HTML is the foundation of the World Wide Web, and it is still the most popular markup language in use today.">
	<!--<meta name="view-transition" content="same-origin">-->
	<link rel="stylesheet" href="/base.css">
	<link rel="stylesheet" href="./../table/ui-table.css">
	<link rel="stylesheet" href="./ui-datagrid.css">
</head>
<body>
	<h1>UI: Components</h1>

	<h2>Data Grid</h2>
	<p>Web Component: <code>&lt;ui-datagrid&gt;</code>. Can be wrapped around an existing <code>&lt;table&gt;</code>, or fetch external data via a <code>src</code>-attribute.</p>

	<ui-datagrid
		editable
		lang="da"
		i18n='{"da":{"all":"Alle","next":"Næste","of":"af","page":"Side","prev":"Forrige","selected":"valgt","size":"Rækker per side"}}'
		itemsperpage="5"
		page="0"
		searchable>
		<table class="ui-table --rounded --th-light --hover-all">
			<thead>
				<tr><th data-uid hidden>ID</th><th>First Name</th><th>Last Name</th><th>Known As</th><th>Place</th></tr>
			</thead>
			<tbody>
				<tr><td>1</td><td>Bruce</td><td>Wayne</td><td>Batman</td><td>Gotham City</td></tr>
				<tr><td>2</td><td>Clark</td><td>Kent</td><td>Superman</td><td>Metropolis</td></tr>
				<tr><td>3</td><td>Tony</td><td>Stark</td><td>Iron Man</td><td>Malibu</td></tr>
				<tr><td>4</td><td>Peter</td><td>Parker</td><td>Spider-Man</td><td>New York City</td></tr>
				<tr><td>5</td><td>Matt</td><td>Murdock</td><td>Daredevil</td><td>New York City</td></tr>
				<tr><td>6</td><td>Steve</td><td>Rogers</td><td>Captain America</td><td>Washington, D.C.</td></tr>
				<tr><td>7</td><td>Diana</td><td>Prince</td><td>Wonder Woman</td><td>Themyscira</td></tr>
				<tr><td>8</td><td>Arthur</td><td>Curry</td><td>Aquaman</td><td>Atlantis</td></tr>
				<tr><td>9</td><td>Natasha</td><td>Romanoff</td><td>Black Widow</td><td>Moscow</td></tr>
				<tr><td>10</td><td>Barry</td><td>Allen</td><td>The Flash</td><td>Central City</td></tr>
				<tr><td>11</td><td>Hal</td><td>Jordan</td><td>Green Lantern</td><td>Coast City</td></tr>
				<tr><td>12</td><td>Wanda</td><td>Maximoff</td><td>Scarlet Witch</td><td>Transia</td></tr>
				<tr><td>13</td><td>Bruce</td><td>Banner</td><td>Hulk</td><td>Gamma Base</td></tr>
				<tr><td>14</td><td>Scott</td><td>Lang</td><td>Ant-Man</td><td>San Francisco</td></tr>
				<tr><td>15</td><td>Carol</td><td>Danvers</td><td>Captain Marvel</td><td>Harmony Grove</td></tr>
				<tr><td>16</td><td>T&apos;Challa</td><td>Challa</td><td>Black Panther</td><td>Wakanda</td></tr>
			</tbody>
		</table>
	</ui-datagrid>

	<br>
	<p>With <code>itemsperpage="10"</code>, <code>selectable</code> and <code>searchterm="indo"</code></p>

	<ui-datagrid
		editable
		itemsperpage="10"
		page="0"
		searchable
		searchterm="indo"
		selectable
		sortindex="0"
		sortorder="1"
		src="./data.json">
		<table class="ui-table --rounded --th-light --hover-all --hover-tr-outline"></table>
	</ui-datagrid>

	<br>
	<hr>

	<p>With data set in the <code>data</code>-attribute as JSON:</p>

	<ui-datagrid
		data='{"tbody":[{"id":"1","firstName":"Bruce","lastName":"Wayne","knownAs":"Batman","place":"GothamCity"},{"id":"2","firstName":"Clark","lastName":"Kent","knownAs":"Superman","place":"Metropolis"}],"thead":[{"field":"id","hidden":true,"label":"ID","uid":true},{"field":"firstName","hidden":false,"label":"FirstName","uid":false},{"field":"lastName","hidden":false,"label":"LastName","uid":false},{"field":"knownAs","hidden":false,"label":"KnownAs","uid":false},{"field":"place","hidden":false,"label":"Place","uid":false}]}'
		tableclass="ui-table --rounded --th-light --hover-all"
		></ui-datagrid>
	</ui-datagrid>

	<br>
	<hr>

	<p>Created from JavaScript with <code>document.createElement('ui-datagrid')</code> and a custom <code>formatters</code>-object.</p>

	<script type="module" src="uiDataGrid.js"></script>

	<script>
		const uiDataGrid = document.createElement('ui-datagrid');
		uiDataGrid.setAttribute('src', './data.json');

		const formatters = {
			bold: (value) => `<strong>${value}</strong>`,
			email: (value) => `<a href="mailto:${value}" tabindex="-1">${value}</a>`,
			semibold: (value) => `<b>${value}</b>`,
			gray: (value) => `<span class="dg-gray">${value}</span>`,
		}

		const i18n = {
			fr: {
				all: 'Tous',
				of: 'de',
				next: 'Suivant',
				noResult: 'Aucun résultat',
				page: 'Page',
				prev: 'Précédent',
				selected: 'sélectionné',
				size: 'Lignes par page',
			}
		}

		uiDataGrid.formatters = formatters;
		uiDataGrid.setAttribute('i18n', JSON.stringify(i18n));
		uiDataGrid.setAttribute('itemsperpage', 5);
		uiDataGrid.setAttribute('lang', 'fr');
		uiDataGrid.setAttribute('page', 0);
		uiDataGrid.setAttribute('searchable', '');
		uiDataGrid.setAttribute('tableclass', 'ui-table --rounded --th-light --hover-all --hover-tr-outline');
		document.body.append(uiDataGrid);
		
		uiDataGrid.addEventListener('pagechange', (e) => { console.log('pagechange', e.detail); });

		/* ------------------------------ */

		const data = {
  "tbody": [
    {
      "id": "1",
      "firstName": "Bruce",
      "lastName": "Wayne",
      "knownAs": "Batman",
      "place": "Gotham City"
    },
    {
      "id": "2",
      "firstName": "Clark",
      "lastName": "Kent",
      "knownAs": "Superman",
      "place": "Metropolis"
    }
  ],
  "thead": [
    {
      "field": "id",
      "hidden": true,
      "label": "ID",
      "uid": true
    },
    {
      "field": "firstName",
      "hidden": false,
      "label": "First Name",
      "uid": false
    },
    {
      "field": "lastName",
      "hidden": false,
      "label": "Last Name",
      "uid": false
    },
    {
      "field": "knownAs",
      "hidden": false,
      "label": "Known As",
      "uid": false
    },
    {
      "field": "place",
      "hidden": false,
      "label": "Place",
      "uid": false
    }
  ]
}
		
	</script>

</body>
</html>