<!DOCTYPE html>
<html lang="en-US" dir="ltr">
<head>
	<title>Video Scrub</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
	<meta name="description" content="A custom web component for scrubbing through video content with crossfade transitions and CSS customization.">
	<meta name="view-transition" content="same-origin">
	<link rel="stylesheet" href="/base.css">
</head>
<body>
	<h1>UI: Components</h1>

	<h2>Video Scrub</h2>
	<p>
		<strong>Video Scrub</strong> is a custom web component for scrubbing through video content, supporting crossfade transitions and CSS customization.
	</p>

	<p>
		<label>
			Scrub Video:
			<input type="range" min="0" max="100" value="50">
		</label>
	</p>

	<video-scrub
			prefetch="/assets/video/landevej.mp4,/assets/video/motorvej.mp4"
			src="/assets/video/byzone.mp4" poster="/assets/poster/byzone.avif"
			value="50">
	</video-scrub>

	<p>
		<button id="toggle-video">Toggle Video</button>
	</p>

	<p>
		<label>
			Crossfade Duration (ms):
			<input type="range" id="crossfade" min="250" max="3000" value="750" step="50">
			<span id="crossfade-value">750ms</span>
		</label>
	</p>

	<script type="module" src="./index.js"></script>
	<script>
		const range = document.querySelector('input[type="range"]');
		const video = document.querySelector('video-scrub');
		const toggleButton = document.getElementById('toggle-video');
		const crossfadeRange = document.getElementById('crossfade');
		const crossfadeValue = document.getElementById('crossfade-value');

		// Video scrubbing
		range.addEventListener('input', () => {
			video.value = range.valueAsNumber;
		});

		// Video toggle functionality
		const videos = [
			'/assets/video/byzone.mp4',
			'/assets/video/landevej.mp4',
			'/assets/video/motorvej.mp4'
		];
		let currentVideoIndex = 0;

		toggleButton.addEventListener('click', () => {
			currentVideoIndex = (currentVideoIndex + 1) % videos.length;
			video.src = videos[currentVideoIndex];
		});

		// Crossfade duration control
		crossfadeRange.addEventListener('input', () => {
			const duration = crossfadeRange.valueAsNumber;
			video.crossfade = duration;
			crossfadeValue.textContent = `${duration}ms`;
		});
	</script>
</body>
</html>