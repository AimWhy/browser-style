<!DOCTYPE html>
<html lang="en-US" dir="ltr">
<head>
	<meta charset="UTF-8">
	<title>Chat</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
	<meta name="description" content="browser.style: form elements">
	<meta name="format-detection" content="telephone=no">
	<link rel="icon" type="image/png" href="/favicon.ico" sizes="any">
	<link rel="icon" type="image/svg+xml" href="/favicon.svg">
	<link rel="apple-touch-icon" sizes="180x180" href="/assets/favicon/apple-touch-icon.png">
	<link rel="stylesheet" href="/@browser.style.props.css">
	<link rel="stylesheet" href="/@browser.style.demo.css">
	<link rel="stylesheet" href="index.css">

	<link rel="stylesheet" href="../avatar/index.css">

	<meta http-equiv="Content-Security-Policy" content="
		base-uri;
		default-src;
		connect-src 'self';
		font-src;
		form-action;
		frame-src;
		img-src 'self' placekitten.com *.stoumann.dk data:;
		manifest-src 'self';
		media-src 'self';
		object-src 'none';
		script-src 'self' 'sha256-Xj41x9sDGOkKarZjpDdU92NgWOwUEqx6QCg2ESoY4E8=' 'sha256-vvt4KWwuNr51XfE5m+hzeNEGhiOfZzG97ccfqGsPwvE=';
		style-src 'self' 'unsafe-inline';
	">
	<link rel="manifest" href="/site.webmanifest">
	<style>
		[value="3"] {
			--chat-start-bg: hsl(240, 5%, 42%);
			--chat-start-c: hsl(240, 5%, 92%);
		}
	</style>
</head>
<body>
	<main>
		<h1>chat</h1>

		<ol data-uic="chat">
			<li value="1">
				<time datetime="2023-05-29T02:20:00"></time>
				<ol>
					<li>
						<div data-uic="avatar">
							<abbr title="Kim Cronos">KC</abbr>
							<img src="https://assets.stoumann.dk/img/avatar1.webp" alt="Unknown Person" loading="lazy">
						</div>
						<div data-uic="chat-entry">
							Hey <a href="#name">@Mads</a>, can you please help me with building the UI for a chat application? 🙂
							<time datetime="2023-06-09T10:02:00">Read </time>
						</div>
					</li>
				</ol>
			</li>
			<li value="2">
					<ol>
						<li>
							<div data-uic="chat-entry">
								I sure can! 👍
							</div>
						</li>
						<li>
							<div data-uic="chat-entry">
								First you need an ordered list, &lt;ol&gt;. Then you add the entries as &lt;li&gt;-tags.
								<time datetime="2023-06-09T10:02:00">Read </time>
							</div>
						</li>
					</ol>
			</li>
			<li value="1">
				<ol>
					<li>
						<div data-uic="avatar">
							<abbr title="Kim Cronos">KC</abbr>
							<img src="https://assets.stoumann.dk/img/avatar1.webp" alt="Unknown Person" loading="lazy">
						</div>
						<div data-uic="chat-entry">
							How do I know who is who?
							<time datetime="2023-06-09T10:02:00">Read </time>
						</div>
					</li>
				</ol>
			</li>
			<li value="2">
					<ol>
						<li>
							<div data-uic="chat-entry">
								You add a <code>value</code>-attribute to each entry. A value of 1 is the first person (other), a value of 2 is the second. You can even add more people if you want to.
							</div>
						</li>
					</ol>
			</li>
			<li value="1">
				<ol>
					<li>
						<div data-uic="avatar">
							<abbr title="Kim Cronos">KC</abbr>
							<img src="https://assets.stoumann.dk/img/avatar1.webp" alt="Unknown Person" loading="lazy">
						</div>
						<div data-uic="chat-entry">
							Example, please!? 🥰
							<time datetime="2023-06-09T10:02:00">Read </time>
						</div>
					</li>
				</ol>
			</li>
			<li value="2">
				<time datetime="2023-05-30T02:20:17.3008564"></time>
					<ol>
						<li>
							<div data-uic="chat-entry">
								Sure thing! It's <code>&lt;li value="1"&gt;First person&lt;li&gt;</code> and <code>&lt;li value="2"&gt;Second person&lt;li&gt;</code>
							</div>
						</li>
					</ol>
			</li>
			<li value="1">
				<ol>
					<li>
						<div data-uic="avatar">
							<abbr title="Kim Cronos">KC</abbr>
							<img src="https://assets.stoumann.dk/img/avatar1.webp" alt="Unknown Person" loading="lazy">
						</div>
						<div data-uic="chat-entry">
							How come you're using this structure?
							<time datetime="2023-06-09T10:02:00">Read </time>
						</div>
					</li>
				</ol>
			</li>
			<li value="2">
				<ol>
					<li>
						<div data-uic="chat-entry">
							If styles are not loading for some reason, the markup will look great and structured. The first person will be #1, the second person will be #2.
							In the styles, I use the value to determine whether the tail of the speech-bubble should be placed at the start or end.
						</div>
					</li>
				</ol>
			</li>
			<li value="3">
				<time datetime="2023-06-02T02:20:00"></time>
				<ol>
					<li>
						<div data-uic="chat-entry">
							Hi! It's Greg here!
							<time datetime="2023-06-09T10:02:00">Read </time>
						</div>
					</li>
					<li>
						<div data-uic="chat-entry">
							Will it work with right-to-left languages?
							<time datetime="2023-06-09T10:02:00">Read </time>
						</div>
					</li>
				</ol>
			</li>
			<li value="2">
				<ol>
					<li>
						<div data-uic="chat-entry">
							Hi Greg! Of course! 😊 The styles are set to <code>ltr</code> by default, but you can change it to <code>rtl</code> if you want to.
						</div>
					</li>
				</ol>
			</li>
			<li value="3">
				<time datetime="2023-06-02T02:20:00"></time>
				<ol>
					<li>
						<div data-uic="chat-entry">
							Where's my Avatar?
						</div>
					</li>
				</ol>
			</li>
			<li value="2">
				<ol>
					<li>
						<div data-uic="chat-entry">
							Ah, sorry, Greg — it's here!
						</div>
					</li>
				</ol>
			</li>
			<li value="3">
				<ol>
					<li>
						<div data-uic="avatar">
							<abbr title="Greg Geertsen">GG</abbr>
							<img src="https://assets.stoumann.dk/img/avatar6.webp" alt="Unknown Person" loading="lazy">
						</div>
						<div data-uic="chat-entry">
							Thank you! How about a beer later? 🍺
						</div>
					</li>
				</ol>
			</li>
			<li value="2">
				<ol>
					<li>
						<div data-uic="chat-entry">
							Always! 🍻
						</div>
					</li>
				</ol>
			</li>
			<li value="1">
				<time datetime="2023-07-03T02:20:00"></time>
				<ol>
					<li>
						<div data-uic="avatar">
							<abbr title="Kim Cronos">KC</abbr>
							<img src="https://assets.stoumann.dk/img/avatar1.webp" alt="Unknown Person" loading="lazy">
						</div>
						<div data-uic="chat-entry">
							Greg mentioned some site with free images of kittens — do you know that?
							<time datetime="2023-07-02T10:02:00">Read </time>
						</div>
					</li>
				</ol>
			</li>
			<li value="2">
				<ol>
					<li>
						<div data-uic="chat-entry">
							Must be <a href="https://placekitten.com/" target="_blank">placekitten.com</a>! 😻
						</div>
					</li>
					<li data-uic="chat-entry">
						<img src="https://placekitten.com/200/300" alt="Kitten" loading="lazy">
				</ol>
			</li>
		</ol>

	</main>

	<script type="module">
		import { timeAgo } from './chat.mjs';
		const timeElements = document.querySelectorAll('time[datetime]')
		const timeStamp = (date) => new Intl.DateTimeFormat('default', {hour: 'numeric', minute: 'numeric'}).format(date);
		timeElements.forEach(timeElement => {
			const date = new Date(timeElement.dateTime)
			if (date) timeElement.textContent += timeAgo(date)
		})
	</script>
</body>
</html>